@import "~bootstrap/scss/mixins"
@import '~v-autocomplete/dist/v-autocomplete.css'
@import 'variables'

$bell-icon-spinner-width: 18px
$bell-icon-spinner-height: 21px
$envelope-icon-spinner-width: 21px


.sticky-top
  display: flex
  flex-direction: column

  .topnav-notification
    width: 100%
    margin: 0 auto
    text-align: center
    font-weight: 600

    .alert
      border-radius: 0
      font-size: 1rem !important

.top-navbar
  background-color: $bg-primary

  a
    transition: color $fast-transition-speed
    &.nav-link
      @media (max-width: 1000px)
        padding-left: 0.75rem !important
        padding-right: 0.75rem !important
      @media (min-width: 1000px)
        padding-left: 1rem !important
        padding-right: 1rem !important

  .active a
    color: $link-color-active
    &::selection
      color: $link-color-active
      background-color: $bg-secondary

  .nav-user-menu
    a
      padding: 1rem !important

      &:hover
        background-color: $bg-primary

  .navbar-nav
    @include media-breakpoint-down(lg)
      align-items: flex-start !important

      li
        align-self: auto !important
        padding: 0 !important
        width: 100%

        &.auth-btn-nav
          padding: 0.25rem 1rem !important

          button
            width: 100%
            padding: 0.5rem !important

        & > a
          padding: 1rem !important
          display: flex
          justify-content: space-between
          align-items: center

          &:hover
            background-color: $bg-primary

        .dropdown-item
            padding: 1rem 1rem 1rem 2rem !important

            &:hover
              color: $primary !important

      .tokens-dropdown-avatar
        margin-left: -4px

  .navbar-toggler
    outline: none
    font-size: inherit !important

  .dropdown-toggle
    border: none

  .container-fluid
    max-width: $topnav-width
    margin: 0 auto

    button[type="submit"]
      background: transparent
      border: none
      padding: 0

  .mintme-logo
    height: 28px
    @include media-breakpoint-up(md)
      height: 37px
    @include media-breakpoint-up(xl)
      height: 46px

  .badges-wrp
    .topnav-bell-spinner
      filter: invert(100%)
      width: $bell-icon-spinner-width
      height: $bell-icon-spinner-height
      color: $link-color
    .topnav-envelope-spinner
      filter: invert(100%)
      width: $envelope-icon-spinner-width

  a.nav-item
    display: block
    padding: .5rem 1rem

  .nav-dropdown-hovered, .language-switcher
    @include media-breakpoint-up(xl)
      &:hover .dropdown-menu
        display: block

  .nav-dropdown-hovered, .nav-dropdown, .language-switcher
    .dropdown-toggle::after
      margin-bottom: -2px
    .dropdown-menu
      @include media-breakpoint-down(lg)
        background-color: transparent

        a.dropdown-item
          text-align: left
          color: $text-color-primary

          &:hover, &:focus
            background-color: transparent
            color: $text-color-primary

          &.active
            background-color: transparent
            color: $primary
            font-weight: 500

            &:hover, &:focus
              background-color: transparent
              color: $primary
              &::selection
                color: $primary
                background-color: $bg-secondary

      .dropdown-item
        padding-top: 0.5rem
        padding-bottom: 0.5rem
        display: flex
        align-items: center
        svg
          margin-right: 0.6rem
          margin-bottom: 5px
          width: 18px
          height: 18px
      
      .token-dropdown-item
        top: -10px !important

    &:not(.language-switcher)
      .dropdown-menu
        top: 90%
        min-width: 12rem

  .divider
    border-left: 1px solid $link-color
    height: 24px

  .icon-token
    border: 2px solid
    border-radius: 100%
    width: 20px
    height: 20px
    min-width: 20px

    &::after
      content: ''
      display: block
      width: 0
      height: 0
      border-left: 4px solid transparent
      border-right: 4px solid transparent
      border-bottom: 6px solid
      margin-left: 4px
      margin-top: 4px

  .menu-token a:hover .icon-token
    background-color: $link-color-hover

    &::after
      border-bottom-color: $bg-primary-dark

  .dropdown-link-icon
    @extend .icon

  .btn, button:focus
    outline: none
    font-weight: inherit
    font-size: inherit
  .btn.nav-link
    padding: 0.2rem 0.5rem

  .log-out-form:focus
    @media (min-width: 992px)
      background-color: $dropdown-link-bg-hover

  .logout
    @extend .dropdown-item
    display: inline
    padding: 0 !important

  a.nav-item .logout
    color: $text-color-primary

    &:hover, &:focus, &:active
      color: $primary !important
      background-color: transparent !important

  .notification-dropdown-wrp
    .dropdown-toggle::after
      display: none

  .profile-dropdown-spinner
    .dropdown-label
      @media (max-width: 1100px)
        display: none

  .nav-profile-wrp
    min-width: 157px
    @include media-breakpoint-up(md)
      min-width: 75px

    #nav-profile
      .dropdown-label
        @media (max-width: 1100px)
          display: none

    .profile-dropdown-avatar-skeleton
      width: 28px
      height: 28px
      background-color: $bg-primary

  @include media-breakpoint-down(lg)
    .navbar-collapse
      position: fixed
      top: 0
      bottom: 0
      right: -100%
      width: 400px
      max-width: 80%
      transition: right $long-transition-speed ease
      display: block
      background-color: $bg-primary-dark
      display: flex
      flex-direction: column
      overflow-y: auto

      & > ul
        &.general-links
          order: 2
        &.secondary-links
          order: 1

        width: 100%

    .navbar-collapse.collapsing
      height: auto !important
      margin-left: 50%
      left: 50%
      transition: all $fast-transition-speed ease

    .navbar-collapse.show
      right: 0

.bell-notification-dropdown
  width: 330px
  height: 210px
  cursor: default
  background-color: $bg-primary-dark !important
  border: 1px solid $primary
  padding: 10px
  margin: 10px auto auto auto

  @media (max-width: 400px)
    width: 212px

  @media (max-width: 330px)
    width: 210px
    right: auto
    left: 0

  &:before
    left: 94% !important

    @media (max-width: 320px)
      left: 92% !important

  span
    font-size: 15px

  .notification-header
    padding: 8px
    background: transparent
    font-size: 1.25rem
    color: $white

    &::selection
      color: $primary
      background-color: $bg-secondary

  .notification-container
    background: transparent

  .notification-body
    padding: 8px
    margin-bottom: 6px
    color: $text-color-primary
    font-size: $small-font-size
    border-bottom: 1px solid $bg-primary
    font-size: 0.9rem

    .notification-type
      .avatar-img
        width: 16px

    .notification-type a
      color: $primary

      &::selection
        color: $primary
        background-color: $bg-secondary

    p
      margin-left: 4px
      margin-bottom: 4px

.sticky-top > .topnav-notification
  & > span
    font-weight: 900

  & > .alert a
    text-decoration: underline
    color: inherit

    &:hover
      color: inherit
      background: none
      text-decoration: none

.navbar-position
  background-color: $bg-primary-dark !important

.desktop-notification-bell
  @include media-breakpoint-down(md)
    display: none

.mobile-notification-bell
  @include media-breakpoint-up(lg)
    display: none

.dropdown-menu.xl-hide
  @include media-breakpoint-up(xl)
    display: none

.hasVBar
  height: 80% !important

.__vuescroll
  max-height: 80% !important

.__rail-is-vertical
    background-color:  $bg-primary-light !important

.__bar-is-vertical
  background-color: $primary !important
  opacity: 1 !important

.static-container-notification
  margin-top: 21%

@include media-breakpoint-up(lg)
  #navbar .dropdown-item .token-name
    width: 90px

#navbar .navbar-backdrop
  background: rgba(0, 0, 0, 0.5)
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  z-index: -1
