{% extends 'base.html.twig' %}

{% block title %}Wallet | mintMe{% endblock %}

{% block bodyclass %}wallet{% endblock %}

{% block content %}
    <div id="wallet" class="container">
        <div class="row pt-5 justify-content-center">
            <div class="col-md-12 card-fixed-large px-0 text-white">
                {{ include('spinners/wallet.html.twig') }}
                <b-tabs
                    @input="tabUpdated"
                    :lazy="true"
                    class="tabs-theme"
                    v-model="tabIndex"
                    :class="{'no-padding': expandedTab}"
                >
                    <b-tab title="Wallet" active>
                        <wallet
                            hash="{{ hash }}"
                            websocket-url="{{ global_websocket_url }}"
                            create-token-url="{{ path('token_create') }}"
                            trading-url="{{ path('trading') }}"
                            withdraw-url="{{ path('withdraw') }}"
                            :deposit-more="depositMoreCurrency"
                            twofa="{{ app.user.isGoogleAuthenticatorEnabled }}"
                            :expiration-time="{{ withdraw_expiration_time }}"
                        >
                        </wallet>
                    </b-tab>
                    <b-tab title="Trading history">
                        <trading-history></trading-history>
                    </b-tab>
                    <b-tab title="Deposit/Withdraw history">
                        <deposit-withdraw-history></deposit-withdraw-history>
                    </b-tab>
                    <b-tab title="Active orders">
                        <active-orders
                                hash="{{ hash }}"
                                websocket-url="{{ global_websocket_url }}"
                                :user-id="{{ app.user.id }}">
                        </active-orders>
                    </b-tab>
                </b-tabs>
                <input type="hidden" ref="depositMore" value="{{ depositMore }}"/>
            </div>
        </div>
    </div>
{% endblock %}

{% block pagescripts %}
    <script nonce="{{ csp_nonce('script') }}" src="{{ asset('build/wallet.js') }}"></script>
{% endblock %}
