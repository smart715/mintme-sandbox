<div class="container">
    <div class="row  pt-4 justify-content-center">
        <div class="col-lg-6 col-md-8">
            <div class="card">
                {% if not isTwoFactor %}
                    <div class="card-header">
                        {% trans %}page.settings_2fa.header{% endtrans %}
                    </div>
                    <div class="card-body">
                        <div class='row'>
                            <div class="col-12 pb-2 text-white text-center">
                                {% trans %}page.settings_2fa.body.download_1{% endtrans %}
                                <a href="https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8" target="_blank">{% trans %}page.settings_2fa.body.download.app_store{% endtrans %}</a> {% trans %}or{% endtrans %}
                                <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" target="_blank">{% trans %}page.settings_2fa.body.download.google_play{% endtrans %}</a>{% trans %}page.settings_2fa.body.download_2{% endtrans %}
                            </div>
                            <div class="col-12 pb-2 text-center">
                                <img src="{{ qr_code_data_uri(imgUrl) }}" alt="QR Code" class="img-thumbnail img-fluid img-barcode">
                            </div>
                            <div class="col-12">
                                <div class="text-center text-white pb-2">
                                    {% trans %}page.settings_2fa.body.help{% endtrans %}
                                </div>
                                <div class="responsive mx-auto">
                                    <div class="row">
                                        <div class="col-12">
                                            <label>{% trans %}page.settings_2fa.body.account{% endtrans %}</label>
                                        </div>
                                        <div class="col-12">
                                            <p class="form-control m-0 text-white">
                                                {{ app.user.username }}
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <label>{% trans %}page.settings_2fa.body.key{% endtrans %}</label>
                                        </div>
                                        <div class="col-12">
                                            <p class="form-control m-0 text-white">
                                                {{ twoFactorKey }}
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <label>{% trans %}page.settings_2fa.body.time_based{% endtrans %}</label>
                                        </div>
                                        <div class="col-12">
                                            <p class="form-control m-0 text-white">
                                                {% trans %}yes{% endtrans %}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="card-header">
                        {% trans %}page.settings_2fa.body.disable{% endtrans %}
                    </div>
                    <div class="card-body pb-0">
                        {% trans with {'%url_backup_codes%': path('generate_backup_codes')} %}page.settings_2fa.body.generate_codes_1{% endtrans %}
                    </div>
                {% endif %}

                <div class="text-center card-body">
                    <div class="row">
                        <div class="col-12">
                            {% block formBody %}
                                    {{ form_start(form) }}
                                        <div class="form-group">
                                            <div class="clearfix">
                                                {{ form_label(form.code, '', { 'label_attr': { 'class': isTwoFactor ? 'float-left' : '' } }) }}
                                            </div>
                                            {{ form_errors(form.code) }}
                                            {{ form_widget(form.code) }}
                                        </div>
                                        <div class="form-group">
                                            <button type="submit" id="_submit" name="submit" class="btn btn-primary">
                                                {% trans %}2fa_modal.submit{% endtrans %}
                                            </button>
                                            {% if isTwoFactor %}
                                                <a href="{{path('settings')}}" class="btn btn-primary ml-2">
                                                    {% trans %}2fa_modal.cancel{% endtrans %}
                                                </a>
                                            {% endif %}
                                        </div>
                                    {{ form_end(form) }}
                            {% endblock %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
